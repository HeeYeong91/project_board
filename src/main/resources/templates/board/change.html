<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<th:block
	th:replace="~{/layout/layoutV1 :: setContent(~{this :: content})}">
	<th:block th:fragment="content">
		<!-- Page Content -->
		<div id="page-content-wrapper">
			<div class="container-fluid">
				<h1 class="mt-4">게시글 수정 및 삭제</h1>
				<hr>
				<form th:action="@{/article/{id}/update/{articleId}(id=${board.boardId}, articleId=${article.articleId})}" action="#"
					th:method="post">
					<div class="form-group">
						<label>게시글 번호</label> 
						<input th:value="${article.articleId}" type="text" class="form-control" value="100" readonly>
					</div>
					<div class="form-group">
						<label>제목</label>
						<input th:value="${article.subject}" type="text" name="subject" class="form-control" value="게시글 제목입니다..">
					</div>
					<div class="form-group">
						<label>내용</label>
						<textarea th:text="${article.content}" class="form-control" name="content" rows="5">게시글 내용입니다.</textarea>
					</div>
					<div class="form-group">
						<label>작성자</label> 
						<input th:value="${article.writer}" type="text" class="form-control" name="writer" value="홍길동" readonly>
					</div>
					<div class="form-group">
						<label>비밀번호</label>
						<input type="password" class="form-control" name="passwd" placeholder="Enter Passwoard">
					</div>
					<div class="form-group">
						<label>등록일자</label> 
						<input th:value="${article.regdate}" type="text" class="form-control" name="regDate" value="2023-05-05" readonly>
					</div>
					<button type="submit" class="btn btn-primary">수정</button>
					<button type="button" class="btn btn-danger" id="delete">삭제</button>
					<a th:href="@{/article/{id}/read/{articleId}(id=${board.boardId}, articleId=${article.articleId})}" href="#">
						<button type="button" class="btn btn-info">취소</button>
					</a>
				</form>
			</div>
		</div>
		<!-- /#page-content-wrapper -->
		<script th:inline="javascript">
		document.querySelector("#delete").addEventListener('click', function() {
			const form = document.querySelector('form');
			const url = /*[[@{/article/{id}/delete/{articleId}(id=${board.boardId}, articleId=${article.articleId})}]]*/
			form.action = url;
			form.submit();
		});
		</script>
	</th:block>
</th:block>
</html>